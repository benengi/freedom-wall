function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{V1YL:function(t,e,n){"use strict";n.r(e);var s,i,o=n("ofXK"),r=n("PCNd"),c=n("tyNb"),a=n("fXoL"),u=n("9ans"),l=n("bTqV"),b=((s=function(){function t(e){var n=this;_classCallCheck(this,t),this.auth=e,this.user||this.auth.user$.subscribe((function(t){n.user=t}))}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||s)(a.Nb(u.a))},s.\u0275cmp=a.Hb({type:s,selectors:[["app-profile-page"]],inputs:{user:"user"},decls:6,vars:1,consts:[["mat-stroked-button","",3,"click"]],template:function(t,e){1&t&&(a.Sb(0,"p"),a.sc(1," Logged in as "),a.Sb(2,"strong"),a.sc(3),a.Rb(),a.Rb(),a.Sb(4,"button",0),a.ac("click",(function(t){return e.auth.signOut()})),a.sc(5,"Logout"),a.Rb()),2&t&&(a.Cb(3),a.tc(null==e.user?null:e.user.email))},directives:[l.b],styles:[""]}),s),f=n("Wcq6"),p=n("aECQ"),d=((i=function(){function t(e){_classCallCheck(this,t),this.afAuth=e}return _createClass(t,[{key:"onclick",value:function(){this.afAuth.auth.signInWithPopup(new f.auth.GoogleAuthProvider)}}]),t}()).\u0275fac=function(t){return new(t||i)(a.Nb(p.a))},i.\u0275dir=a.Ib({type:i,selectors:[["","appGoogleSignin",""]],hostBindings:function(t,e){1&t&&a.ac("click",(function(t){return e.onclick()}))}}),i),h=n("mrSG"),m=n("3Pt+"),g=n("Wp6s"),v=n("kmnG"),k=n("qFsG");function w(t,e){if(1&t){var n=a.Tb();a.Sb(0,"div"),a.Sb(1,"h3"),a.sc(2,"Create Account"),a.Rb(),a.Sb(3,"button",9),a.ac("click",(function(t){return a.kc(n),a.cc().changeType("login")})),a.sc(4," Returning user? "),a.Rb(),a.Rb()}}function y(t,e){if(1&t){var n=a.Tb();a.Sb(0,"div"),a.Sb(1,"h3"),a.sc(2,"Sign In"),a.Rb(),a.Sb(3,"button",10),a.ac("click",(function(t){return a.kc(n),a.cc().changeType("signup")})),a.sc(4," New user? "),a.Rb(),a.Rb()}}function C(t,e){if(1&t){var n=a.Tb();a.Sb(0,"div"),a.Sb(1,"h3"),a.sc(2,"Reset Password"),a.Rb(),a.Sb(3,"button",11),a.ac("click",(function(t){return a.kc(n),a.cc().changeType("login")})),a.sc(4,"Back"),a.Rb(),a.Rb()}}function S(t,e){1&t&&(a.Sb(0,"mat-error"),a.sc(1," You must enter a valid email address "),a.Rb())}function R(t,e){1&t&&(a.Sb(0,"mat-error"),a.sc(1," Password must be at least 6 characters long "),a.Rb())}function I(t,e){if(1&t&&(a.Sb(0,"mat-form-field",2),a.Ob(1,"input",12),a.qc(2,R,2,0,"mat-error",0),a.Rb()),2&t){var n=a.cc();a.hc("color",n.email.valid&&"accent"),a.Cb(2),a.hc("ngIf",n.password.invalid&&n.password.dirty)}}function P(t,e){1&t&&(a.Sb(0,"mat-error"),a.sc(1," Password does not match "),a.Rb())}function q(t,e){if(1&t&&(a.Sb(0,"mat-form-field",2),a.Ob(1,"input",13),a.qc(2,P,2,0,"mat-error",0),a.Rb()),2&t){var n=a.cc();a.hc("color",n.passwordDoesMatch?"accent":"warn"),a.Cb(2),a.hc("ngIf",n.passwordConfirm.dirty&&!n.passwordDoesMatch)}}function _(t,e){if(1&t&&(a.Sb(0,"button",14),a.sc(1," Send Reset Email "),a.Rb()),2&t){var n=a.cc();a.hc("disabled",n.loading)}}function L(t,e){if(1&t&&(a.Sb(0,"button",15),a.sc(1," Submit "),a.Rb()),2&t){var n=a.cc();a.hc("disabled",n.form.invalid||!n.passwordDoesMatch||n.loading)}}function O(t,e){if(1&t){var n=a.Tb();a.Sb(0,"button",16),a.ac("click",(function(t){return a.kc(n),a.cc().changeType("reset")})),a.sc(1," Forgot password? "),a.Rb()}}var N,T=((N=function(){function t(e,n){_classCallCheck(this,t),this.auth=e,this.fb=n,this.type="signup",this.loading=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.form=this.fb.group({email:["",[m.k.required,m.k.email]],password:["",[m.k.minLength(6),m.k.required]],passwordConfirm:["",[]]})}},{key:"changeType",value:function(t){this.type=t}},{key:"onSubmit",value:function(){return Object(h.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loading=!0,e=this.email.value,n=this.password.value,t.prev=2,t.t0=this.isLogin,!t.t0){t.next=7;break}return t.next=7,this.auth.emailSignUp(e,n);case 7:if(t.t1=this.isSignup,!t.t1){t.next=11;break}return t.next=11,this.auth.emailLogIn(e,n);case 11:if(t.t2=this.isPasswordReset,!t.t2){t.next=16;break}return t.next=15,this.auth.resetPassword(e);case 15:this.serverMessage="Check your email";case 16:t.next=21;break;case 18:t.prev=18,t.t3=t.catch(2),this.serverMessage=t.t3;case 21:this.loading=!1;case 22:case"end":return t.stop()}}),t,this,[[2,18]])})))}},{key:"isLogin",get:function(){return"login"===this.type}},{key:"isSignup",get:function(){return"signup"===this.type}},{key:"isPasswordReset",get:function(){return"reset"===this.type}},{key:"email",get:function(){return this.form.get("email")}},{key:"password",get:function(){return this.form.get("password")}},{key:"passwordConfirm",get:function(){return this.form.get("passwordConfirm")}},{key:"passwordDoesMatch",get:function(){return"signup"!==this.type||this.password.value===this.passwordConfirm.value}}]),t}()).\u0275fac=function(t){return new(t||N)(a.Nb(u.a),a.Nb(m.b))},N.\u0275cmp=a.Hb({type:N,selectors:[["app-email-login"]],decls:15,vars:12,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"color"],["matInput","","formControlName","email","type","email","placeholder","Email","autocomplete","off"],[3,"color",4,"ngIf"],[1,"server-error"],["mat-stroked-button","","type","submit",3,"disabled",4,"ngIf"],["mat-raised-button","","color","accent","type","submit",3,"disabled",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],["size","small","mat-stroked-button","",3,"click"],["size","small","mat-button","",3,"click"],["matInput","","formControlName","password","type","password","placeholder","Password","autocomplete","off"],["matInput","","formControlName","passwordConfirm","type","password","placeholder","Confirm password","autocomplete","off"],["mat-stroked-button","","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(a.Sb(0,"mat-card"),a.qc(1,w,5,0,"div",0),a.qc(2,y,5,0,"div",0),a.qc(3,C,5,0,"div",0),a.Sb(4,"form",1),a.ac("ngSubmit",(function(t){return e.onSubmit()})),a.Sb(5,"mat-form-field",2),a.Ob(6,"input",3),a.qc(7,S,2,0,"mat-error",0),a.Rb(),a.qc(8,I,3,2,"mat-form-field",4),a.qc(9,q,3,2,"mat-form-field",4),a.Sb(10,"mat-error",5),a.sc(11),a.Rb(),a.qc(12,_,2,1,"button",6),a.qc(13,L,2,1,"button",7),a.Rb(),a.qc(14,O,2,0,"button",8),a.Rb()),2&t&&(a.Cb(1),a.hc("ngIf",e.isSignup),a.Cb(1),a.hc("ngIf",e.isLogin),a.Cb(1),a.hc("ngIf",e.isPasswordReset),a.Cb(1),a.hc("formGroup",e.form),a.Cb(1),a.hc("color",e.email.valid&&"accent"),a.Cb(2),a.hc("ngIf",e.email.invalid&&e.email.dirty),a.Cb(1),a.hc("ngIf",!e.isPasswordReset),a.Cb(1),a.hc("ngIf",e.isSignup),a.Cb(2),a.tc(e.serverMessage),a.Cb(1),a.hc("ngIf",e.isPasswordReset),a.Cb(1),a.hc("ngIf",!e.isPasswordReset),a.Cb(1),a.hc("ngIf",e.isLogin&&!e.isPasswordReset))},directives:[g.a,o.k,m.l,m.h,m.d,v.b,k.a,m.a,m.g,m.c,v.a,l.b],styles:[""]}),N);function G(t,e){if(1&t&&(a.Sb(0,"div",2),a.Ob(1,"app-profile-page",3),a.Rb()),2&t){var n=e.ngIf;a.Cb(1),a.hc("user",n)}}function x(t,e){1&t&&(a.Sb(0,"div"),a.Sb(1,"h1"),a.sc(2,"Login"),a.Rb(),a.Sb(3,"button",4),a.Ob(4,"img",5),a.sc(5," Login with Google "),a.Rb(),a.Sb(6,"h5"),a.sc(7,"OR"),a.Rb(),a.Ob(8,"app-email-login"),a.Rb())}var M,j,A=((M=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||M)(a.Nb(u.a))},M.\u0275cmp=a.Hb({type:M,selectors:[["app-login-page"]],decls:5,vars:6,consts:[["class","logout",4,"ngIf"],[4,"ngIf"],[1,"logout"],[3,"user"],["mat-raised-button","","appGoogleSignin",""],["src","/assets/google-logo.svg"]],template:function(t,e){1&t&&(a.Sb(0,"main"),a.qc(1,G,2,1,"div",0),a.dc(2,"async"),a.qc(3,x,9,0,"div",1),a.dc(4,"async"),a.Rb()),2&t&&(a.Cb(1),a.hc("ngIf",a.ec(2,2,e.auth.user$)),a.Cb(2),a.hc("ngIf",!a.ec(4,4,e.auth.user$)))},directives:[o.k,b,l.b,d,T],pipes:[o.b],styles:[""]}),M),D=[{path:"",component:A},{path:"login",component:A},{path:"profile",component:b}],E=((j=function t(){_classCallCheck(this,t)}).\u0275mod=a.Lb({type:j}),j.\u0275inj=a.Kb({factory:function(t){return new(t||j)},imports:[[c.c.forChild(D)],c.c]}),j);n.d(e,"UserModule",(function(){return K}));var H,K=((H=function t(){_classCallCheck(this,t)}).\u0275mod=a.Lb({type:H}),H.\u0275inj=a.Kb({factory:function(t){return new(t||H)},imports:[[o.c,r.a,E,m.j]]}),H)}}]);