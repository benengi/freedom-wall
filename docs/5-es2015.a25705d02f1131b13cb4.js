(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{V1YL:function(t,s,e){"use strict";e.r(s);var n=e("ofXK"),o=e("PCNd"),i=e("tyNb"),c=e("fXoL"),r=e("9ans"),a=e("bTqV");let u=(()=>{class t{constructor(t){this.auth=t,this.user||this.auth.user$.subscribe(t=>{this.user=t})}ngOnInit(){}}return t.\u0275fac=function(s){return new(s||t)(c.Nb(r.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-profile-page"]],inputs:{user:"user"},decls:6,vars:1,consts:[["mat-stroked-button","",3,"click"]],template:function(t,s){1&t&&(c.Sb(0,"p"),c.sc(1," Logged in as "),c.Sb(2,"strong"),c.sc(3),c.Rb(),c.Rb(),c.Sb(4,"button",0),c.ac("click",(function(t){return s.auth.signOut()})),c.sc(5,"Logout"),c.Rb()),2&t&&(c.Cb(3),c.tc(null==s.user?null:s.user.email))},directives:[a.b],styles:[""]}),t})();var b=e("Wcq6"),l=e("aECQ");let d=(()=>{class t{constructor(t){this.afAuth=t}onclick(){this.afAuth.auth.signInWithPopup(new b.auth.GoogleAuthProvider)}}return t.\u0275fac=function(s){return new(s||t)(c.Nb(l.a))},t.\u0275dir=c.Ib({type:t,selectors:[["","appGoogleSignin",""]],hostBindings:function(t,s){1&t&&c.ac("click",(function(t){return s.onclick()}))}}),t})();var p=e("mrSG"),f=e("3Pt+"),m=e("Wp6s"),g=e("kmnG"),h=e("qFsG");function w(t,s){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Sb(1,"h3"),c.sc(2,"Create Account"),c.Rb(),c.Sb(3,"button",9),c.ac("click",(function(s){return c.kc(t),c.cc().changeType("login")})),c.sc(4," Returning user? "),c.Rb(),c.Rb()}}function S(t,s){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Sb(1,"h3"),c.sc(2,"Sign In"),c.Rb(),c.Sb(3,"button",10),c.ac("click",(function(s){return c.kc(t),c.cc().changeType("signup")})),c.sc(4," New user? "),c.Rb(),c.Rb()}}function R(t,s){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Sb(1,"h3"),c.sc(2,"Reset Password"),c.Rb(),c.Sb(3,"button",11),c.ac("click",(function(s){return c.kc(t),c.cc().changeType("login")})),c.sc(4,"Back"),c.Rb(),c.Rb()}}function y(t,s){1&t&&(c.Sb(0,"mat-error"),c.sc(1," You must enter a valid email address "),c.Rb())}function v(t,s){1&t&&(c.Sb(0,"mat-error"),c.sc(1," Password must be at least 6 characters long "),c.Rb())}function k(t,s){if(1&t&&(c.Sb(0,"mat-form-field",2),c.Ob(1,"input",12),c.qc(2,v,2,0,"mat-error",0),c.Rb()),2&t){const t=c.cc();c.hc("color",t.email.valid&&"accent"),c.Cb(2),c.hc("ngIf",t.password.invalid&&t.password.dirty)}}function C(t,s){1&t&&(c.Sb(0,"mat-error"),c.sc(1," Password does not match "),c.Rb())}function I(t,s){if(1&t&&(c.Sb(0,"mat-form-field",2),c.Ob(1,"input",13),c.qc(2,C,2,0,"mat-error",0),c.Rb()),2&t){const t=c.cc();c.hc("color",t.passwordDoesMatch?"accent":"warn"),c.Cb(2),c.hc("ngIf",t.passwordConfirm.dirty&&!t.passwordDoesMatch)}}function q(t,s){if(1&t&&(c.Sb(0,"button",14),c.sc(1," Send Reset Email "),c.Rb()),2&t){const t=c.cc();c.hc("disabled",t.loading)}}function P(t,s){if(1&t&&(c.Sb(0,"button",15),c.sc(1," Submit "),c.Rb()),2&t){const t=c.cc();c.hc("disabled",t.form.invalid||!t.passwordDoesMatch||t.loading)}}function L(t,s){if(1&t){const t=c.Tb();c.Sb(0,"button",16),c.ac("click",(function(s){return c.kc(t),c.cc().changeType("reset")})),c.sc(1," Forgot password? "),c.Rb()}}let O=(()=>{class t{constructor(t,s){this.auth=t,this.fb=s,this.type="signup",this.loading=!1}ngOnInit(){this.form=this.fb.group({email:["",[f.k.required,f.k.email]],password:["",[f.k.minLength(6),f.k.required]],passwordConfirm:["",[]]})}changeType(t){this.type=t}get isLogin(){return"login"===this.type}get isSignup(){return"signup"===this.type}get isPasswordReset(){return"reset"===this.type}get email(){return this.form.get("email")}get password(){return this.form.get("password")}get passwordConfirm(){return this.form.get("passwordConfirm")}get passwordDoesMatch(){return"signup"!==this.type||this.password.value===this.passwordConfirm.value}onSubmit(){return Object(p.__awaiter)(this,void 0,void 0,(function*(){this.loading=!0;const t=this.email.value,s=this.password.value;try{this.isLogin&&(yield this.auth.emailSignUp(t,s)),this.isSignup&&(yield this.auth.emailLogIn(t,s)),this.isPasswordReset&&(yield this.auth.resetPassword(t),this.serverMessage="Check your email")}catch(e){this.serverMessage=e}this.loading=!1}))}}return t.\u0275fac=function(s){return new(s||t)(c.Nb(r.a),c.Nb(f.b))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-email-login"]],decls:15,vars:12,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"color"],["matInput","","formControlName","email","type","email","placeholder","Email","autocomplete","off"],[3,"color",4,"ngIf"],[1,"server-error"],["mat-stroked-button","","type","submit",3,"disabled",4,"ngIf"],["mat-raised-button","","color","accent","type","submit",3,"disabled",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],["size","small","mat-stroked-button","",3,"click"],["size","small","mat-button","",3,"click"],["matInput","","formControlName","password","type","password","placeholder","Password","autocomplete","off"],["matInput","","formControlName","passwordConfirm","type","password","placeholder","Confirm password","autocomplete","off"],["mat-stroked-button","","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["mat-button","",3,"click"]],template:function(t,s){1&t&&(c.Sb(0,"mat-card"),c.qc(1,w,5,0,"div",0),c.qc(2,S,5,0,"div",0),c.qc(3,R,5,0,"div",0),c.Sb(4,"form",1),c.ac("ngSubmit",(function(t){return s.onSubmit()})),c.Sb(5,"mat-form-field",2),c.Ob(6,"input",3),c.qc(7,y,2,0,"mat-error",0),c.Rb(),c.qc(8,k,3,2,"mat-form-field",4),c.qc(9,I,3,2,"mat-form-field",4),c.Sb(10,"mat-error",5),c.sc(11),c.Rb(),c.qc(12,q,2,1,"button",6),c.qc(13,P,2,1,"button",7),c.Rb(),c.qc(14,L,2,0,"button",8),c.Rb()),2&t&&(c.Cb(1),c.hc("ngIf",s.isSignup),c.Cb(1),c.hc("ngIf",s.isLogin),c.Cb(1),c.hc("ngIf",s.isPasswordReset),c.Cb(1),c.hc("formGroup",s.form),c.Cb(1),c.hc("color",s.email.valid&&"accent"),c.Cb(2),c.hc("ngIf",s.email.invalid&&s.email.dirty),c.Cb(1),c.hc("ngIf",!s.isPasswordReset),c.Cb(1),c.hc("ngIf",s.isSignup),c.Cb(2),c.tc(s.serverMessage),c.Cb(1),c.hc("ngIf",s.isPasswordReset),c.Cb(1),c.hc("ngIf",!s.isPasswordReset),c.Cb(1),c.hc("ngIf",s.isLogin&&!s.isPasswordReset))},directives:[m.a,n.k,f.l,f.h,f.d,g.b,h.a,f.a,f.g,f.c,g.a,a.b],styles:[""]}),t})();function N(t,s){if(1&t&&(c.Sb(0,"div",2),c.Ob(1,"app-profile-page",3),c.Rb()),2&t){const t=s.ngIf;c.Cb(1),c.hc("user",t)}}function T(t,s){1&t&&(c.Sb(0,"div"),c.Sb(1,"h1"),c.sc(2,"Login"),c.Rb(),c.Sb(3,"button",4),c.Ob(4,"img",5),c.sc(5," Login with Google "),c.Rb(),c.Sb(6,"h5"),c.sc(7,"OR"),c.Rb(),c.Ob(8,"app-email-login"),c.Rb())}let G=(()=>{class t{constructor(t){this.auth=t}ngOnInit(){}}return t.\u0275fac=function(s){return new(s||t)(c.Nb(r.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-login-page"]],decls:5,vars:6,consts:[["class","logout",4,"ngIf"],[4,"ngIf"],[1,"logout"],[3,"user"],["mat-raised-button","","appGoogleSignin",""],["src","/assets/google-logo.svg"]],template:function(t,s){1&t&&(c.Sb(0,"main"),c.qc(1,N,2,1,"div",0),c.dc(2,"async"),c.qc(3,T,9,0,"div",1),c.dc(4,"async"),c.Rb()),2&t&&(c.Cb(1),c.hc("ngIf",c.ec(2,2,s.auth.user$)),c.Cb(2),c.hc("ngIf",!c.ec(4,4,s.auth.user$)))},directives:[n.k,u,a.b,d,O],pipes:[n.b],styles:[""]}),t})();const M=[{path:"",component:G},{path:"login",component:G},{path:"profile",component:u}];let j=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(s){return new(s||t)},imports:[[i.c.forChild(M)],i.c]}),t})();e.d(s,"UserModule",(function(){return A}));let A=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(s){return new(s||t)},imports:[[n.c,o.a,j,f.j]]}),t})()}}]);